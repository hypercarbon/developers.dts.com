import{_ as n,o as t,c as e,I as a,a2 as s,D as l}from"./chunks/framework.D8254szN.js";const F=JSON.parse('{"title":"游戏","description":"","frontmatter":{},"headers":[],"relativePath":"guide/game.md","filePath":"guide/game.md"}'),h={name:"guide/game.md"},p=s('<h1 id="游戏" tabindex="-1">游戏 <a class="header-anchor" href="#游戏" aria-label="Permalink to &quot;游戏&quot;">​</a></h1><p>此文档包含游戏相关操作。</p><p>游戏流程有以下几种：</p><ul><li>用户登录、上分 -&gt; sleuthId 过期 -&gt; 游戏结束，下分回调</li><li>用户登录、上分 -&gt; 游戏登录 -&gt; 进入游戏回调 -&gt; 游戏结束，下分回调</li></ul><p>只要有上分的行为，必定有结束后下分回调</p><h2 id="endpoint" tabindex="-1">EndPoint <a class="header-anchor" href="#endpoint" aria-label="Permalink to &quot;EndPoint&quot;">​</a></h2><p>具体域名对接时联系第三方获取</p><h2 id="sleuthid-有效期" tabindex="-1">sleuthId 有效期 <a class="header-anchor" href="#sleuthid-有效期" aria-label="Permalink to &quot;sleuthId 有效期&quot;">​</a></h2><p>用户登录后未使用的 sleuthId 应该有有效期，超过有效期 sleuthId 失效，不能在通过该 sleuthId 登录游戏。 失效后需要通知第三方</p>',9),k=s(`<h3 id="body-raw-json" tabindex="-1">Body raw json: <a class="header-anchor" href="#body-raw-json" aria-label="Permalink to &quot;Body raw json:&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;openUuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{openUuid}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 登录时的 sleuthId</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sleuthId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{sleuthId}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="进入游戏回调" tabindex="-1">进入游戏回调 <a class="header-anchor" href="#进入游戏回调" aria-label="Permalink to &quot;进入游戏回调&quot;">​</a></h2><p>用户使用 sleuthId 成功进入游戏后（游戏通过Cocos登录成功）需要通知第三方</p>`,4),o=s(`<h3 id="body-raw-json-1" tabindex="-1">Body raw json: <a class="header-anchor" href="#body-raw-json-1" aria-label="Permalink to &quot;Body raw json:&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;openUuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{openUuid}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 登录时的 sleuthId</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sleuthId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{sleuthId}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="游戏结束-下分回调" tabindex="-1">游戏结束，下分回调 <a class="header-anchor" href="#游戏结束-下分回调" aria-label="Permalink to &quot;游戏结束，下分回调&quot;">​</a></h2><p>用户结束游戏后（游戏结束或关闭后回调事件），需要为用户下分并通知第三方</p>`,4),d=s(`<h3 id="body-raw-json-2" tabindex="-1">Body raw json: <a class="header-anchor" href="#body-raw-json-2" aria-label="Permalink to &quot;Body raw json:&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;openUuid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{openUuid}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 登录时的 sleuthId</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sleuthId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{sleuthId}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 进入游戏的时间戳</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;beginTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">{beginTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 结束游戏的时间戳</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;endTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">{endTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 进入游戏的 coin</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;scoreBefore&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">{scoreBefore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}},</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 结束游戏的 coin</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;scoreAfter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">{scoreAfter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div>`,2);function r(E,c,u,g,y,_){const i=l("APIEndpoint");return t(),e("div",null,[p,a(i,{method:"POST",url:"/open/game/expired/events"}),k,a(i,{method:"POST",url:"/open/game/online/events"}),o,a(i,{method:"POST",url:"/open/game/callback/events"}),d])}const b=n(h,[["render",r]]);export{F as __pageData,b as default};
